{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleQueryChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","searchbar","this","form","type","button","buttonLabel","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","toggleModal","largeImageURL","galleryItem","onClick","galleryItemImage","src","alt","Button","ImageGallery","images","status","loadMore","page","fetch","then","response","json","prevState","hits","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","finally","loading","loader","color","height","width","timeout","gallery","map","item","Modal","handleKeyDown","code","handleBackdropClick","target","console","log","addEventListener","removeEventListener","overlay","modal","App","showModal","handleFormSubmit","galleryItems","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a35ce023.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__1eLCW\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__8CeiO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3Paip\",\"modal\":\"Modal_modal__GiY8u\",\"button\":\"Modal_button__2hm21\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1QkX_\"};","import s from './Searchbar.module.css';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n    handleQueryChange = e => {\r\n        this.setState({searchQuery: e.currentTarget.value.toLowerCase()})\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.searchQuery.trim() === '') {\r\n            alert('Please enter search query');\r\n            return;\r\n        }\r\n\r\n        this.props.onSubmit(this.state.searchQuery);\r\n        this.setState({ searchQuery: '' });\r\n    }\r\n\r\n    render() {\r\n      return (\r\n          <header className={s.searchbar}>\r\n              <form onSubmit={this.handleSubmit} className={s.form}>\r\n                  <button type=\"submit\" className={s.button}>\r\n                      <ImSearch />\r\n                      <span className={s.buttonLabel}>Search</span>\r\n                  </button>\r\n                  <input\r\n                      className={s.input}\r\n                      type=\"text\"\r\n                      autoComplete=\"off\"\r\n                      autoFocus\r\n                      placeholder=\"Search images and photos\"\r\n                      value={this.state.searchQuery}\r\n                      onChange={this.handleQueryChange}\r\n                  />\r\n              </form>\r\n          </header>\r\n      );\r\n    }\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, toggleModal, largeImageURL }) => (\r\n    <li className={s.galleryItem}>\r\n    <img onClick={() => toggleModal(largeImageURL)} className={s.galleryItemImage} src={webformatURL} alt={id} />\r\n    </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number,\r\n  webformatURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n  toggleModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};","import { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Button from \"../Button/Button\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nexport default class ImageGallery extends Component {\r\n\r\n  state = {\r\n    images: null,\r\n    status: 'idle',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\nconst page = 1;\r\n\r\n    if (prevProps.searchQuery !== this.props.searchQuery) {\r\n\r\n      this.setState({ status: 'pending', page: 1 });\r\n      fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.props.searchQuery}&page=${page}&per_page=12&key=23560247-693fa480425212983640fe465`)\r\n        .then(response => {\r\n          return  response.json();\r\n        })\r\n        .then(images => this.setState({ images: images.hits, page: 1, status: 'resolved' }))\r\n        .finally(() => this.setState({ loading: false }));\r\n    }\r\n  }\r\n\r\n  loadMore = () => {\r\n    const page = this.state.page + 1;\r\n\r\n    fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.props.searchQuery}&page=${page}&per_page=12&key=23560247-693fa480425212983640fe465`)\r\n        .then(response => {\r\n          return  response.json();\r\n        })\r\n      .then((images) =>\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images.hits],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n  };\r\n\r\n    render() {\r\n      const { toggleModal } = this.props;\r\n      const { images, status } = this.state;\r\n      \r\n      if (status === 'idle') {\r\n        return <div>Please enter your search query</div>\r\n      }\r\n\r\n      if (status === 'pending') {\r\n        return <Loader\r\n          className={s.loader}\r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />;\r\n      }\r\n\r\n      if (status === 'resolved') {\r\n        return  <ul className={s.gallery}>\r\n          {images.map(item => (\r\n            <ImageGalleryItem\r\n                key={item.id}\r\n                id={item.id}\r\n                webformatURL={item.webformatURL}\r\n                largeImageURL={item.largeImageURL}\r\n                toggleModal={toggleModal}\r\n\r\n              />\r\n          ))}\r\n        <Button onClick={this.loadMore} /></ul>\r\n      }\r\n    }\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  galleryItems: PropTypes.array,\r\n  toggleModal: PropTypes.func,\r\n  searchQuery: PropTypes.string,\r\n};","import { Component } from 'react';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        console.log('Modal componentDidMount');\r\n\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n  }\r\n\r\n    componentWillUnmount() {\r\n        console.log('Modal componentWillUnmount')\r\n\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.toggleModal();\r\n        }\r\n    };\r\n\r\n    handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.toggleModal();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { largeImageURL } = this.props;\r\n      return (\r\n          <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n              <div className={s.modal}>\r\n                  <img src={largeImageURL} alt=\"\" />\r\n                  {/* <button className={s.button} type=\"button\" onClick={this.props.toggleModal}></button> */}\r\n              </div>\r\n          </div>\r\n      );\r\n    }\r\n};\r\n\r\n\r\nModal.propTypes = {\r\n    toggleModal: PropTypes.func,\r\n    largeImageURL: PropTypes.string,\r\n};","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\n\n\nimport galleryItems from './components/ImageGallery/ImageGalleryItem/galleryItems.json';\n\nclass App extends Component {\n  state = {\n    showModal: false,\n    searchQuery: '',\n  };\n\n  componentDidMount() {\n  }\n\n  toggleModal = (largeImageURL) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeImageURL,\n    }));\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({searchQuery: searchQuery})\n  }\n\n  render() {\nconsole.log('App render')\n\n    const { showModal } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit}/>\n      <ImageGallery\n          galleryItems={galleryItems}\n          toggleModal={this.toggleModal}\n          searchQuery={this.state.searchQuery}\n\n        />\n        {showModal && <Modal\n          toggleModal={this.toggleModal}\n          largeImageURL={this.state.largeImageURL} />}\n    </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__WX2tw\",\"form\":\"Searchbar_form__3uM7x\",\"button\":\"Searchbar_button__3-qUh\",\"buttonLabel\":\"Searchbar_buttonLabel__eGAHK\",\"input\":\"Searchbar_input__2v7zZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__XnSg2\",\"loader\":\"ImageGallery_loader__2NL8s\"};"],"sourceRoot":""}